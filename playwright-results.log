
Running 63 tests using 7 workers

[1A[2K[1/63] [chromium] â€º test/e2e-complete-workflow.spec.ts:156:3 â€º Complete Bewirtungsbeleg Workflow â€º should handle OCR extraction and auto-fill form fields
[1A[2K[2/63] [chromium] â€º test/e2e-complete-workflow.spec.ts:268:3 â€º Complete Bewirtungsbeleg Workflow â€º should calculate VAT correctly for German amounts
[1A[2K[3/63] [chromium] â€º test/e2e-complete-workflow.spec.ts:236:3 â€º Complete Bewirtungsbeleg Workflow â€º should handle PDF with multiple attachments
[1A[2K[4/63] [chromium] â€º test/e2e-complete-workflow.spec.ts:91:3 â€º Complete Bewirtungsbeleg Workflow â€º should complete full workflow from image upload to PDF generation
[1A[2K[5/63] [chromium] â€º test/e2e-complete-workflow.spec.ts:212:3 â€º Complete Bewirtungsbeleg Workflow â€º should validate form before PDF generation
[1A[2K[6/63] [chromium] â€º test/e2e-critical-scenarios.spec.ts:116:3 â€º E2E Test 2: Multiple File Handling with Ordering â€º should maintain correct file order: Rechnung before Kreditbeleg
[1A[2K[7/63] [chromium] â€º test/e2e-critical-scenarios.spec.ts:145:3 â€º E2E Test 2: Multiple File Handling with Ordering â€º should handle multiple attachments of same type
[1A[2K  1) [chromium] â€º test/e2e-critical-scenarios.spec.ts:116:3 â€º E2E Test 2: Multiple File Handling with Ordering â€º should maintain correct file order: Rechnung before Kreditbeleg 

    Error: locator.setInputFiles: Error: strict mode violation: locator('input[type="file"]') resolved to 2 elements:
        1) <input multiple type="file" tabindex="-1" accept="image/png,image/jpeg,image/webp,application/pdf"/> aka getByRole('button', { name: 'Choose File' })
        2) <input type="file" accept=".json"/> aka locator('div').filter({ hasText: /^JSON DownloadJSON Upload$/ }).locator('input[type="file"]')

    Call log:
    [2m  - waiting for locator('input[type="file"]')[22m


      21 |   async uploadFiles(filePaths: string[]) {
      22 |     const fileInput = this.page.locator('input[type="file"]');
    > 23 |     await fileInput.setInputFiles(filePaths);
         |     ^
      24 |     await this.page.waitForTimeout(1000);
      25 |   }
      26 |
        at BewirtungsbelegPage.uploadFiles (/Users/daniel/dev/Bewritung/bewir/test/e2e-critical-scenarios.spec.ts:23:5)
        at /Users/daniel/dev/Bewritung/bewir/test/e2e-critical-scenarios.spec.ts:129:5

    Error Context: test-results/e2e-critical-scenarios-E2E-353ad-Rechnung-before-Kreditbeleg-chromium/error-context.md


[1A[2K  2) [chromium] â€º test/e2e-complete-workflow.spec.ts:91:3 â€º Complete Bewirtungsbeleg Workflow â€º should complete full workflow from image upload to PDF generation 

    Error: locator.setInputFiles: Error: strict mode violation: locator('input[type="file"]') resolved to 2 elements:
        1) <input multiple type="file" tabindex="-1" accept="image/png,image/jpeg,image/webp,application/pdf"/> aka getByRole('button', { name: 'Choose File' })
        2) <input type="file" accept=".json"/> aka locator('div').filter({ hasText: /^JSON DownloadJSON Upload$/ }).locator('input[type="file"]')

    Call log:
    [2m  - waiting for locator('input[type="file"]')[22m


      19 |   async uploadReceipt(filePath: string) {
      20 |     const fileInput = this.page.locator('input[type="file"]');
    > 21 |     await fileInput.setInputFiles(filePath);
         |     ^
      22 |     await this.page.waitForTimeout(1000);
      23 |   }
      24 |
        at BewirtungsbelegWorkflow.uploadReceipt (/Users/daniel/dev/Bewritung/bewir/test/e2e-complete-workflow.spec.ts:21:5)
        at /Users/daniel/dev/Bewritung/bewir/test/e2e-complete-workflow.spec.ts:112:5

    Error Context: test-results/e2e-complete-workflow-Comp-3732b-ge-upload-to-PDF-generation-chromium/error-context.md


[1A[2K  3) [chromium] â€º test/e2e-complete-workflow.spec.ts:156:3 â€º Complete Bewirtungsbeleg Workflow â€º should handle OCR extraction and auto-fill form fields 

    Error: locator.setInputFiles: Error: strict mode violation: locator('input[type="file"]') resolved to 2 elements:
        1) <input multiple type="file" tabindex="-1" accept="image/png,image/jpeg,image/webp,application/pdf"/> aka getByRole('button', { name: 'Choose File' })
        2) <input type="file" accept=".json"/> aka locator('div').filter({ hasText: /^JSON DownloadJSON Upload$/ }).locator('input[type="file"]')

    Call log:
    [2m  - waiting for locator('input[type="file"]')[22m


      19 |   async uploadReceipt(filePath: string) {
      20 |     const fileInput = this.page.locator('input[type="file"]');
    > 21 |     await fileInput.setInputFiles(filePath);
         |     ^
      22 |     await this.page.waitForTimeout(1000);
      23 |   }
      24 |
        at BewirtungsbelegWorkflow.uploadReceipt (/Users/daniel/dev/Bewritung/bewir/test/e2e-complete-workflow.spec.ts:21:5)
        at /Users/daniel/dev/Bewritung/bewir/test/e2e-complete-workflow.spec.ts:188:5

    Error Context: test-results/e2e-complete-workflow-Comp-282ff-n-and-auto-fill-form-fields-chromium/error-context.md


[1A[2K  4) [chromium] â€º test/e2e-complete-workflow.spec.ts:236:3 â€º Complete Bewirtungsbeleg Workflow â€º should handle PDF with multiple attachments 

    Error: locator.setInputFiles: Error: strict mode violation: locator('input[type="file"]') resolved to 2 elements:
        1) <input multiple type="file" tabindex="-1" accept="image/png,image/jpeg,image/webp,application/pdf"/> aka getByRole('button', { name: 'Choose File' })
        2) <input type="file" accept=".json"/> aka locator('div').filter({ hasText: /^JSON DownloadJSON Upload$/ }).locator('input[type="file"]')

    Call log:
    [2m  - waiting for locator('input[type="file"]')[22m


      248 |
      249 |     const fileInput = page.locator('input[type="file"]');
    > 250 |     await fileInput.setInputFiles([file1, file2]);
          |     ^
      251 |
      252 |     // Fill form
      253 |     await workflow.fillFormField('restaurantName', 'Multi-Attachment Test');
        at /Users/daniel/dev/Bewritung/bewir/test/e2e-complete-workflow.spec.ts:250:5

    Error Context: test-results/e2e-complete-workflow-Comp-bba11-F-with-multiple-attachments-chromium/error-context.md


[1A[2K  5) [chromium] â€º test/e2e-critical-scenarios.spec.ts:145:3 â€º E2E Test 2: Multiple File Handling with Ordering â€º should handle multiple attachments of same type 

    Error: locator.setInputFiles: Error: strict mode violation: locator('input[type="file"]') resolved to 2 elements:
        1) <input multiple type="file" tabindex="-1" accept="image/png,image/jpeg,image/webp,application/pdf"/> aka getByRole('button', { name: 'Choose File' })
        2) <input type="file" accept=".json"/> aka locator('div').filter({ hasText: /^JSON DownloadJSON Upload$/ }).locator('input[type="file"]')

    Call log:
    [2m  - waiting for locator('input[type="file"]')[22m


      21 |   async uploadFiles(filePaths: string[]) {
      22 |     const fileInput = this.page.locator('input[type="file"]');
    > 23 |     await fileInput.setInputFiles(filePaths);
         |     ^
      24 |     await this.page.waitForTimeout(1000);
      25 |   }
      26 |
        at BewirtungsbelegPage.uploadFiles (/Users/daniel/dev/Bewritung/bewir/test/e2e-critical-scenarios.spec.ts:23:5)
        at /Users/daniel/dev/Bewritung/bewir/test/e2e-critical-scenarios.spec.ts:157:5

    Error Context: test-results/e2e-critical-scenarios-E2E-cf140-le-attachments-of-same-type-chromium/error-context.md


[1A[2K[8/63] [chromium] â€º test/e2e-critical-scenarios.spec.ts:169:3 â€º E2E Test 2: Multiple File Handling with Ordering â€º should allow file removal and re-upload
[1A[2K[9/63] [chromium] â€º test/e2e-critical-scenarios.spec.ts:199:3 â€º E2E Test 3: Error Recovery and Retry â€º should recover from OCR API failure
[1A[2K[10/63] [chromium] â€º test/e2e-critical-scenarios.spec.ts:252:3 â€º E2E Test 3: Error Recovery and Retry â€º should handle network timeout gracefully
[1A[2K[11/63] [chromium] â€º test/e2e-critical-scenarios.spec.ts:272:3 â€º E2E Test 3: Error Recovery and Retry â€º should clear errors when fixing invalid input
[1A[2K[12/63] [chromium] â€º test/e2e-critical-scenarios.spec.ts:300:3 â€º E2E Test 4: Form Validation with German Formats â€º should validate German decimal format
[1A[2K  6) [chromium] â€º test/e2e-critical-scenarios.spec.ts:169:3 â€º E2E Test 2: Multiple File Handling with Ordering â€º should allow file removal and re-upload 

    Error: locator.setInputFiles: Error: strict mode violation: locator('input[type="file"]') resolved to 2 elements:
        1) <input multiple type="file" tabindex="-1" accept="image/png,image/jpeg,image/webp,application/pdf"/> aka getByRole('button', { name: 'Choose File' })
        2) <input type="file" accept=".json"/> aka locator('div').filter({ hasText: /^JSON DownloadJSON Upload$/ }).locator('input[type="file"]')

    Call log:
    [2m  - waiting for locator('input[type="file"]')[22m


      21 |   async uploadFiles(filePaths: string[]) {
      22 |     const fileInput = this.page.locator('input[type="file"]');
    > 23 |     await fileInput.setInputFiles(filePaths);
         |     ^
      24 |     await this.page.waitForTimeout(1000);
      25 |   }
      26 |
        at BewirtungsbelegPage.uploadFiles (/Users/daniel/dev/Bewritung/bewir/test/e2e-critical-scenarios.spec.ts:23:5)
        at /Users/daniel/dev/Bewritung/bewir/test/e2e-critical-scenarios.spec.ts:176:5

    Error Context: test-results/e2e-critical-scenarios-E2E-dc05b--file-removal-and-re-upload-chromium/error-context.md


[1A[2K  7) [chromium] â€º test/e2e-critical-scenarios.spec.ts:199:3 â€º E2E Test 3: Error Recovery and Retry â€º should recover from OCR API failure 

    Error: locator.setInputFiles: Error: strict mode violation: locator('input[type="file"]') resolved to 2 elements:
        1) <input multiple type="file" tabindex="-1" accept="image/png,image/jpeg,image/webp,application/pdf"/> aka getByRole('button', { name: 'Choose File' })
        2) <input type="file" accept=".json"/> aka locator('div').filter({ hasText: /^JSON DownloadJSON Upload$/ }).locator('input[type="file"]')

    Call log:
    [2m  - waiting for locator('input[type="file"]')[22m


      21 |   async uploadFiles(filePaths: string[]) {
      22 |     const fileInput = this.page.locator('input[type="file"]');
    > 23 |     await fileInput.setInputFiles(filePaths);
         |     ^
      24 |     await this.page.waitForTimeout(1000);
      25 |   }
      26 |
        at BewirtungsbelegPage.uploadFiles (/Users/daniel/dev/Bewritung/bewir/test/e2e-critical-scenarios.spec.ts:23:5)
        at /Users/daniel/dev/Bewritung/bewir/test/e2e-critical-scenarios.spec.ts:233:5

    Error Context: test-results/e2e-critical-scenarios-E2E-2eae8-ecover-from-OCR-API-failure-chromium/error-context.md


[1A[2K[13/63] [chromium] â€º test/e2e-critical-scenarios.spec.ts:327:3 â€º E2E Test 4: Form Validation with German Formats â€º should validate German date format DD.MM.YYYY
[1A[2K[14/63] [chromium] â€º test/e2e-critical-scenarios.spec.ts:345:3 â€º E2E Test 4: Form Validation with German Formats â€º should handle tip amount in German format
[1A[2K  8) [chromium] â€º test/e2e-complete-workflow.spec.ts:268:3 â€º Complete Bewirtungsbeleg Workflow â€º should calculate VAT correctly for German amounts 

    [31mTest timeout of 30000ms exceeded.[39m

    Error: locator.clear: Test timeout of 30000ms exceeded.
    Call log:
    [2m  - waiting for locator('input[name="restaurantName"], textarea[name="restaurantName"]')[22m


      36 |   async fillFormField(fieldName: string, value: string) {
      37 |     const field = this.page.locator(`input[name="${fieldName}"], textarea[name="${fieldName}"]`);
    > 38 |     await field.clear();
         |                 ^
      39 |     await field.fill(value);
      40 |   }
      41 |
        at BewirtungsbelegWorkflow.fillFormField (/Users/daniel/dev/Bewritung/bewir/test/e2e-complete-workflow.spec.ts:38:17)
        at /Users/daniel/dev/Bewritung/bewir/test/e2e-complete-workflow.spec.ts:270:20

    Error Context: test-results/e2e-complete-workflow-Comp-401dd-orrectly-for-German-amounts-chromium/error-context.md


[1A[2K  9) [chromium] â€º test/e2e-complete-workflow.spec.ts:212:3 â€º Complete Bewirtungsbeleg Workflow â€º should validate form before PDF generation 

    [31mTest timeout of 30000ms exceeded.[39m

    Error: locator.click: Test timeout of 30000ms exceeded.
    Call log:
    [2m  - waiting for locator('button:has-text("PDF generieren")')[22m


      54 |   async clickGeneratePDF() {
      55 |     const generateButton = this.page.locator('button:has-text("PDF generieren")');
    > 56 |     await generateButton.click();
         |                          ^
      57 |   }
      58 |
      59 |   async waitForPDFGeneration() {
        at BewirtungsbelegWorkflow.clickGeneratePDF (/Users/daniel/dev/Bewritung/bewir/test/e2e-complete-workflow.spec.ts:56:26)
        at /Users/daniel/dev/Bewritung/bewir/test/e2e-complete-workflow.spec.ts:214:20

    Error Context: test-results/e2e-complete-workflow-Comp-0b43e--form-before-PDF-generation-chromium/error-context.md


[1A[2K[15/63] [chromium] â€º test/e2e-critical-scenarios.spec.ts:385:3 â€º E2E Test 5: Foreign Currency Receipt Handling â€º should handle foreign currency receipt without VAT
[1A[2K[16/63] [chromium] â€º test/e2e-critical-scenarios.spec.ts:357:3 â€º E2E Test 4: Form Validation with German Formats â€º should validate conditional fields for customer entertainment
[1A[2K  10) [chromium] â€º test/e2e-critical-scenarios.spec.ts:272:3 â€º E2E Test 3: Error Recovery and Retry â€º should clear errors when fixing invalid input 

    [31mTest timeout of 30000ms exceeded.[39m

    Error: locator.clear: Test timeout of 30000ms exceeded.
    Call log:
    [2m  - waiting for locator('input[name="gesamtbetrag"], textarea[name="gesamtbetrag"]')[22m


      45 |   async fillField(name: string, value: string) {
      46 |     const field = this.page.locator(`input[name="${name}"], textarea[name="${name}"]`);
    > 47 |     await field.clear();
         |                 ^
      48 |     await field.fill(value);
      49 |   }
      50 |
        at BewirtungsbelegPage.fillField (/Users/daniel/dev/Bewritung/bewir/test/e2e-critical-scenarios.spec.ts:47:17)
        at /Users/daniel/dev/Bewritung/bewir/test/e2e-critical-scenarios.spec.ts:274:16

    Error Context: test-results/e2e-critical-scenarios-E2E-1a611-s-when-fixing-invalid-input-chromium/error-context.md


[1A[2K  11) [chromium] â€º test/e2e-critical-scenarios.spec.ts:300:3 â€º E2E Test 4: Form Validation with German Formats â€º should validate German decimal format 

    [31mTest timeout of 30000ms exceeded.[39m

    Error: locator.clear: Test timeout of 30000ms exceeded.
    Call log:
    [2m  - waiting for locator('input[name="restaurantName"], textarea[name="restaurantName"]')[22m


      45 |   async fillField(name: string, value: string) {
      46 |     const field = this.page.locator(`input[name="${name}"], textarea[name="${name}"]`);
    > 47 |     await field.clear();
         |                 ^
      48 |     await field.fill(value);
      49 |   }
      50 |
        at BewirtungsbelegPage.fillField (/Users/daniel/dev/Bewritung/bewir/test/e2e-critical-scenarios.spec.ts:47:17)
        at /Users/daniel/dev/Bewritung/bewir/test/e2e-critical-scenarios.spec.ts:301:16

    Error Context: test-results/e2e-critical-scenarios-E2E-4ed80-idate-German-decimal-format-chromium/error-context.md


[1A[2K  12) [chromium] â€º test/e2e-critical-scenarios.spec.ts:252:3 â€º E2E Test 3: Error Recovery and Retry â€º should handle network timeout gracefully 

    [31mTest timeout of 30000ms exceeded.[39m

    Error: locator.clear: Test timeout of 30000ms exceeded.
    Call log:
    [2m  - waiting for locator('input[name="restaurantName"], textarea[name="restaurantName"]')[22m


      45 |   async fillField(name: string, value: string) {
      46 |     const field = this.page.locator(`input[name="${name}"], textarea[name="${name}"]`);
    > 47 |     await field.clear();
         |                 ^
      48 |     await field.fill(value);
      49 |   }
      50 |
        at BewirtungsbelegPage.fillField (/Users/daniel/dev/Bewritung/bewir/test/e2e-critical-scenarios.spec.ts:47:17)
        at BewirtungsbelegPage.fillMinimalValidForm (/Users/daniel/dev/Bewritung/bewir/test/e2e-critical-scenarios.spec.ts:98:16)
        at /Users/daniel/dev/Bewritung/bewir/test/e2e-critical-scenarios.spec.ts:264:16

    Error Context: test-results/e2e-critical-scenarios-E2E-accc6--network-timeout-gracefully-chromium/error-context.md


[1A[2K[17/63] [chromium] â€º test/e2e-critical-scenarios.spec.ts:442:3 â€º E2E Test 5: Foreign Currency Receipt Handling â€º should not calculate VAT for foreign receipts
[1A[2K[18/63] [chromium] â€º test/e2e-critical-scenarios.spec.ts:405:3 â€º E2E Test 5: Foreign Currency Receipt Handling â€º should validate exchange rate format
[1A[2K[19/63] [chromium] â€º test/e2e-critical-scenarios.spec.ts:424:3 â€º E2E Test 5: Foreign Currency Receipt Handling â€º should handle multiple currency codes
[1A[2K  13) [chromium] â€º test/e2e-critical-scenarios.spec.ts:327:3 â€º E2E Test 4: Form Validation with German Formats â€º should validate German date format DD.MM.YYYY 

    [31mTest timeout of 30000ms exceeded.[39m

    Error: locator.clear: Test timeout of 30000ms exceeded.
    Call log:
    [2m  - waiting for locator('input[name="datum"], textarea[name="datum"]')[22m


      45 |   async fillField(name: string, value: string) {
      46 |     const field = this.page.locator(`input[name="${name}"], textarea[name="${name}"]`);
    > 47 |     await field.clear();
         |                 ^
      48 |     await field.fill(value);
      49 |   }
      50 |
        at BewirtungsbelegPage.fillField (/Users/daniel/dev/Bewritung/bewir/test/e2e-critical-scenarios.spec.ts:47:17)
        at /Users/daniel/dev/Bewritung/bewir/test/e2e-critical-scenarios.spec.ts:332:18

    Error Context: test-results/e2e-critical-scenarios-E2E-d6aa0-rman-date-format-DD-MM-YYYY-chromium/error-context.md


[1A[2K  14) [chromium] â€º test/e2e-critical-scenarios.spec.ts:345:3 â€º E2E Test 4: Form Validation with German Formats â€º should handle tip amount in German format 

    [31mTest timeout of 30000ms exceeded.[39m

    Error: locator.clear: Test timeout of 30000ms exceeded.
    Call log:
    [2m  - waiting for locator('input[name="restaurantName"], textarea[name="restaurantName"]')[22m


      45 |   async fillField(name: string, value: string) {
      46 |     const field = this.page.locator(`input[name="${name}"], textarea[name="${name}"]`);
    > 47 |     await field.clear();
         |                 ^
      48 |     await field.fill(value);
      49 |   }
      50 |
        at BewirtungsbelegPage.fillField (/Users/daniel/dev/Bewritung/bewir/test/e2e-critical-scenarios.spec.ts:47:17)
        at BewirtungsbelegPage.fillMinimalValidForm (/Users/daniel/dev/Bewritung/bewir/test/e2e-critical-scenarios.spec.ts:98:16)
        at /Users/daniel/dev/Bewritung/bewir/test/e2e-critical-scenarios.spec.ts:346:16

    Error Context: test-results/e2e-critical-scenarios-E2E-d333c-tip-amount-in-German-format-chromium/error-context.md


[1A[2K[20/63] [chromium] â€º test/e2e-eigenbeleg-workflow.spec.ts:155:3 â€º Eigenbeleg Workflow â€º should successfully create PDF for Eigenbeleg without file attachments
[1A[2K[21/63] [chromium] â€º test/e2e-eigenbeleg-workflow.spec.ts:186:3 â€º Eigenbeleg Workflow â€º should show Eigenbeleg warning when option is checked
[1A[2K  15) [chromium] â€º test/e2e-critical-scenarios.spec.ts:385:3 â€º E2E Test 5: Foreign Currency Receipt Handling â€º should handle foreign currency receipt without VAT 

    [31mTest timeout of 30000ms exceeded.[39m

    Error: locator.clear: Test timeout of 30000ms exceeded.
    Call log:
    [2m  - waiting for locator('input[name="restaurantName"], textarea[name="restaurantName"]')[22m


      45 |   async fillField(name: string, value: string) {
      46 |     const field = this.page.locator(`input[name="${name}"], textarea[name="${name}"]`);
    > 47 |     await field.clear();
         |                 ^
      48 |     await field.fill(value);
      49 |   }
      50 |
        at BewirtungsbelegPage.fillField (/Users/daniel/dev/Bewritung/bewir/test/e2e-critical-scenarios.spec.ts:47:17)
        at BewirtungsbelegPage.fillMinimalValidForm (/Users/daniel/dev/Bewritung/bewir/test/e2e-critical-scenarios.spec.ts:98:16)
        at /Users/daniel/dev/Bewritung/bewir/test/e2e-critical-scenarios.spec.ts:386:16

    Error Context: test-results/e2e-critical-scenarios-E2E-cf5a8-urrency-receipt-without-VAT-chromium/error-context.md


[1A[2K  16) [chromium] â€º test/e2e-critical-scenarios.spec.ts:357:3 â€º E2E Test 4: Form Validation with German Formats â€º should validate conditional fields for customer entertainment 

    [31mTest timeout of 30000ms exceeded.[39m

    Error: locator.clear: Test timeout of 30000ms exceeded.
    Call log:
    [2m  - waiting for locator('input[name="restaurantName"], textarea[name="restaurantName"]')[22m


      45 |   async fillField(name: string, value: string) {
      46 |     const field = this.page.locator(`input[name="${name}"], textarea[name="${name}"]`);
    > 47 |     await field.clear();
         |                 ^
      48 |     await field.fill(value);
      49 |   }
      50 |
        at BewirtungsbelegPage.fillField (/Users/daniel/dev/Bewritung/bewir/test/e2e-critical-scenarios.spec.ts:47:17)
        at BewirtungsbelegPage.fillMinimalValidForm (/Users/daniel/dev/Bewritung/bewir/test/e2e-critical-scenarios.spec.ts:98:16)
        at /Users/daniel/dev/Bewritung/bewir/test/e2e-critical-scenarios.spec.ts:358:16

    Error Context: test-results/e2e-critical-scenarios-E2E-a590a--for-customer-entertainment-chromium/error-context.md


[1A[2K[22/63] [chromium] â€º test/e2e-eigenbeleg-workflow.spec.ts:197:3 â€º Eigenbeleg Workflow â€º should handle form validation correctly for required fields
[1A[2K[23/63] [chromium] â€º test/e2e-eigenbeleg-workflow.spec.ts:212:3 â€º Eigenbeleg Workflow â€º should work with and without file attachments
[1A[2K  17) [chromium] â€º test/e2e-critical-scenarios.spec.ts:405:3 â€º E2E Test 5: Foreign Currency Receipt Handling â€º should validate exchange rate format 

    [31mTest timeout of 30000ms exceeded.[39m

    Error: locator.clear: Test timeout of 30000ms exceeded.
    Call log:
    [2m  - waiting for locator('input[name="restaurantName"], textarea[name="restaurantName"]')[22m


      45 |   async fillField(name: string, value: string) {
      46 |     const field = this.page.locator(`input[name="${name}"], textarea[name="${name}"]`);
    > 47 |     await field.clear();
         |                 ^
      48 |     await field.fill(value);
      49 |   }
      50 |
        at BewirtungsbelegPage.fillField (/Users/daniel/dev/Bewritung/bewir/test/e2e-critical-scenarios.spec.ts:47:17)
        at BewirtungsbelegPage.fillMinimalValidForm (/Users/daniel/dev/Bewritung/bewir/test/e2e-critical-scenarios.spec.ts:98:16)
        at /Users/daniel/dev/Bewritung/bewir/test/e2e-critical-scenarios.spec.ts:406:16

    Error Context: test-results/e2e-critical-scenarios-E2E-4431a-lidate-exchange-rate-format-chromium/error-context.md


[1A[2K  18) [chromium] â€º test/e2e-critical-scenarios.spec.ts:442:3 â€º E2E Test 5: Foreign Currency Receipt Handling â€º should not calculate VAT for foreign receipts 

    [31mTest timeout of 30000ms exceeded.[39m

    Error: locator.clear: Test timeout of 30000ms exceeded.
    Call log:
    [2m  - waiting for locator('input[name="restaurantName"], textarea[name="restaurantName"]')[22m


      45 |   async fillField(name: string, value: string) {
      46 |     const field = this.page.locator(`input[name="${name}"], textarea[name="${name}"]`);
    > 47 |     await field.clear();
         |                 ^
      48 |     await field.fill(value);
      49 |   }
      50 |
        at BewirtungsbelegPage.fillField (/Users/daniel/dev/Bewritung/bewir/test/e2e-critical-scenarios.spec.ts:47:17)
        at BewirtungsbelegPage.fillMinimalValidForm (/Users/daniel/dev/Bewritung/bewir/test/e2e-critical-scenarios.spec.ts:98:16)
        at /Users/daniel/dev/Bewritung/bewir/test/e2e-critical-scenarios.spec.ts:443:16

    Error Context: test-results/e2e-critical-scenarios-E2E-ccca3-te-VAT-for-foreign-receipts-chromium/error-context.md


[1A[2K  19) [chromium] â€º test/e2e-critical-scenarios.spec.ts:424:3 â€º E2E Test 5: Foreign Currency Receipt Handling â€º should handle multiple currency codes 

    [31mTest timeout of 30000ms exceeded.[39m

    Error: locator.clear: Test timeout of 30000ms exceeded.
    Call log:
    [2m  - waiting for locator('input[name="restaurantName"], textarea[name="restaurantName"]')[22m


      45 |   async fillField(name: string, value: string) {
      46 |     const field = this.page.locator(`input[name="${name}"], textarea[name="${name}"]`);
    > 47 |     await field.clear();
         |                 ^
      48 |     await field.fill(value);
      49 |   }
      50 |
        at BewirtungsbelegPage.fillField (/Users/daniel/dev/Bewritung/bewir/test/e2e-critical-scenarios.spec.ts:47:17)
        at BewirtungsbelegPage.fillMinimalValidForm (/Users/daniel/dev/Bewritung/bewir/test/e2e-critical-scenarios.spec.ts:98:16)
        at /Users/daniel/dev/Bewritung/bewir/test/e2e-critical-scenarios.spec.ts:425:16

    Error Context: test-results/e2e-critical-scenarios-E2E-03b43-dle-multiple-currency-codes-chromium/error-context.md


[1A[2K[24/63] [chromium] â€º test/e2e-eigenbeleg-workflow.spec.ts:231:3 â€º Eigenbeleg PDF Content Verification â€º should generate PDF with correct Eigenbeleg content
[1A[2K[25/63] [chromium] â€º test/e2e-tip-calculation.spec.ts:172:3 â€º Tip Calculation - Manual Entry â€º should auto-calculate tip when manually entering credit card amount
[1A[2K[26/63] [chromium] â€º test/e2e-tip-calculation.spec.ts:117:3 â€º Tip Calculation - OCR Extraction â€º should auto-calculate tip after OCR extracts both invoice and credit card
[1A[2K[chromium] â€º test/e2e-tip-calculation.spec.ts:172:3 â€º Tip Calculation - Manual Entry â€º should auto-calculate tip when manually entering credit card amount

ðŸ§ª TEST: Manual entry tip calculation

[1A[2KðŸ“¤ Uploading Rechnung hochladen: /Users/daniel/dev/Bewritung/bewir/test/29092025_(Vendor).pdf

[1A[2K[chromium] â€º test/e2e-tip-calculation.spec.ts:117:3 â€º Tip Calculation - OCR Extraction â€º should auto-calculate tip after OCR extracts both invoice and credit card

ðŸ§ª TEST: OCR Auto-calculation of tip

[1A[2KðŸ“¤ Uploading Rechnung hochladen: /Users/daniel/dev/Bewritung/bewir/test/29092025_(Vendor).pdf

[1A[2Kâœ… File uploaded: Rechnung hochladen

[1A[2K  20) [chromium] â€º test/e2e-eigenbeleg-workflow.spec.ts:155:3 â€º Eigenbeleg Workflow â€º should successfully create PDF for Eigenbeleg without file attachments 

    [31mTest timeout of 30000ms exceeded.[39m

    Error: locator.check: Test timeout of 30000ms exceeded.
    Call log:
    [2m  - waiting for locator('label:has-text("Eigenbeleg") input[type="checkbox"]').or(locator('input[type="checkbox"]').filter({ has: locator('text=Eigenbeleg') })).or(locator('[data-testid="eigenbeleg-checkbox"]')).first()[22m


      28 |     ).first();
      29 |     
    > 30 |     await eigenbelegCheckbox.check();
         |                              ^
      31 |     await this.page.waitForTimeout(500); // Wait for UI state change
      32 |   }
      33 |
        at EigenbelegWorkflow.checkEigenbelegOption (/Users/daniel/dev/Bewritung/bewir/test/e2e-eigenbeleg-workflow.spec.ts:30:30)
        at /Users/daniel/dev/Bewritung/bewir/test/e2e-eigenbeleg-workflow.spec.ts:162:20

    Error Context: test-results/e2e-eigenbeleg-workflow-Ei-0c91c-eg-without-file-attachments-chromium/error-context.md


[1A[2K[chromium] â€º test/e2e-tip-calculation.spec.ts:172:3 â€º Tip Calculation - Manual Entry â€º should auto-calculate tip when manually entering credit card amount
âœ… File uploaded: Rechnung hochladen

[1A[2K  21) [chromium] â€º test/e2e-eigenbeleg-workflow.spec.ts:186:3 â€º Eigenbeleg Workflow â€º should show Eigenbeleg warning when option is checked 

    [31mTest timeout of 30000ms exceeded.[39m

    Error: locator.check: Test timeout of 30000ms exceeded.
    Call log:
    [2m  - waiting for locator('label:has-text("Eigenbeleg") input[type="checkbox"]').or(locator('input[type="checkbox"]').filter({ has: locator('text=Eigenbeleg') })).or(locator('[data-testid="eigenbeleg-checkbox"]')).first()[22m


      28 |     ).first();
      29 |     
    > 30 |     await eigenbelegCheckbox.check();
         |                              ^
      31 |     await this.page.waitForTimeout(500); // Wait for UI state change
      32 |   }
      33 |
        at EigenbelegWorkflow.checkEigenbelegOption (/Users/daniel/dev/Bewritung/bewir/test/e2e-eigenbeleg-workflow.spec.ts:30:30)
        at /Users/daniel/dev/Bewritung/bewir/test/e2e-eigenbeleg-workflow.spec.ts:190:20

    Error Context: test-results/e2e-eigenbeleg-workflow-Ei-1a0a1-ning-when-option-is-checked-chromium/error-context.md


[1A[2K[27/63] [chromium] â€º test/e2e-tip-calculation.spec.ts:215:3 â€º Tip Calculation - Manual Entry â€º should handle German decimal format (comma separator)
[1A[2K[chromium] â€º test/e2e-tip-calculation.spec.ts:117:3 â€º Tip Calculation - OCR Extraction â€º should auto-calculate tip after OCR extracts both invoice and credit card
ðŸ“¤ Uploading Kreditkarte hochladen: /Users/daniel/dev/Bewritung/bewir/test/08102025_Bezahlung MASTERCARD.pdf

[1A[2Kâœ… File uploaded: Kreditkarte hochladen

[1A[2K[28/63] [chromium] â€º test/e2e-tip-calculation.spec.ts:236:3 â€º Tip Calculation - Manual Entry â€º should not calculate tip when credit card amount < invoice amount
[1A[2K[chromium] â€º test/e2e-tip-calculation.spec.ts:172:3 â€º Tip Calculation - Manual Entry â€º should auto-calculate tip when manually entering credit card amount
ðŸ” Clicking "Daten extrahieren" button

[1A[2K[chromium] â€º test/e2e-tip-calculation.spec.ts:117:3 â€º Tip Calculation - OCR Extraction â€º should auto-calculate tip after OCR extracts both invoice and credit card
ðŸ” Clicking "Daten extrahieren" button

[1A[2K[chromium] â€º test/e2e-tip-calculation.spec.ts:215:3 â€º Tip Calculation - Manual Entry â€º should handle German decimal format (comma separator)

ðŸ§ª TEST: German decimal format with comma

[1A[2Kâœï¸ Setting field "gesamtbetrag" to: 29,90

[1A[2K[chromium] â€º test/e2e-tip-calculation.spec.ts:236:3 â€º Tip Calculation - Manual Entry â€º should not calculate tip when credit card amount < invoice amount

ðŸ§ª TEST: No tip when credit card < invoice

[1A[2Kâœï¸ Setting field "gesamtbetrag" to: 50.00

[1A[2K  22) [chromium] â€º test/e2e-tip-calculation.spec.ts:172:3 â€º Tip Calculation - Manual Entry â€º should auto-calculate tip when manually entering credit card amount 

    Error: [31mTimed out 5000ms waiting for [39m[2mexpect([22m[31mlocator[39m[2m).[22mtoBeVisible[2m()[22m

    Locator: locator('button:has-text("Daten extrahieren")')
    Expected: visible
    Received: <element(s) not found>
    Call log:
    [2m  - expect.toBeVisible with timeout 5000ms[22m
    [2m  - waiting for locator('button:has-text("Daten extrahieren")')[22m


      40 |     console.log('ðŸ” Clicking "Daten extrahieren" button');
      41 |     const extractButton = this.page.locator('button:has-text("Daten extrahieren")');
    > 42 |     await expect(extractButton).toBeVisible();
         |                                 ^
      43 |     await extractButton.click();
      44 |   }
      45 |
        at TipCalculationWorkflow.clickExtractData (/Users/daniel/dev/Bewritung/bewir/test/e2e-tip-calculation.spec.ts:42:33)
        at /Users/daniel/dev/Bewritung/bewir/test/e2e-tip-calculation.spec.ts:180:20

    Error Context: test-results/e2e-tip-calculation-Tip-Ca-0a5aa-entering-credit-card-amount-chromium/error-context.md


[1A[2K[29/63] [chromium] â€º test/e2e-tip-calculation.spec.ts:257:3 â€º Tip Calculation - Manual Entry â€º should not calculate tip when amounts are equal
[1A[2K  23) [chromium] â€º test/e2e-tip-calculation.spec.ts:117:3 â€º Tip Calculation - OCR Extraction â€º should auto-calculate tip after OCR extracts both invoice and credit card 

    Error: [31mTimed out 5000ms waiting for [39m[2mexpect([22m[31mlocator[39m[2m).[22mtoBeVisible[2m()[22m

    Locator: locator('button:has-text("Daten extrahieren")')
    Expected: visible
    Received: <element(s) not found>
    Call log:
    [2m  - expect.toBeVisible with timeout 5000ms[22m
    [2m  - waiting for locator('button:has-text("Daten extrahieren")')[22m


      40 |     console.log('ðŸ” Clicking "Daten extrahieren" button');
      41 |     const extractButton = this.page.locator('button:has-text("Daten extrahieren")');
    > 42 |     await expect(extractButton).toBeVisible();
         |                                 ^
      43 |     await extractButton.click();
      44 |   }
      45 |
        at TipCalculationWorkflow.clickExtractData (/Users/daniel/dev/Bewritung/bewir/test/e2e-tip-calculation.spec.ts:42:33)
        at /Users/daniel/dev/Bewritung/bewir/test/e2e-tip-calculation.spec.ts:129:20

    Error Context: test-results/e2e-tip-calculation-Tip-Ca-c2342-oth-invoice-and-credit-card-chromium/error-context.md


[1A[2K[30/63] [chromium] â€º test/e2e-tip-calculation.spec.ts:287:3 â€º Tip Calculation - Reverse Flow â€º should calculate credit card amount when entering tip manually
[1A[2K[chromium] â€º test/e2e-tip-calculation.spec.ts:257:3 â€º Tip Calculation - Manual Entry â€º should not calculate tip when amounts are equal

ðŸ§ª TEST: No tip when amounts are equal

[1A[2Kâœï¸ Setting field "gesamtbetrag" to: 30.00

[1A[2K[chromium] â€º test/e2e-tip-calculation.spec.ts:287:3 â€º Tip Calculation - Reverse Flow â€º should calculate credit card amount when entering tip manually

ðŸ§ª TEST: Calculate credit card from tip entry

[1A[2Kâœï¸ Setting field "gesamtbetrag" to: 29.90

[1A[2K  24) [chromium] â€º test/e2e-eigenbeleg-workflow.spec.ts:197:3 â€º Eigenbeleg Workflow â€º should handle form validation correctly for required fields 

    [31mTest timeout of 30000ms exceeded.[39m

    Error: locator.check: Test timeout of 30000ms exceeded.
    Call log:
    [2m  - waiting for locator('label:has-text("Eigenbeleg") input[type="checkbox"]').or(locator('input[type="checkbox"]').filter({ has: locator('text=Eigenbeleg') })).or(locator('[data-testid="eigenbeleg-checkbox"]')).first()[22m


      28 |     ).first();
      29 |     
    > 30 |     await eigenbelegCheckbox.check();
         |                              ^
      31 |     await this.page.waitForTimeout(500); // Wait for UI state change
      32 |   }
      33 |
        at EigenbelegWorkflow.checkEigenbelegOption (/Users/daniel/dev/Bewritung/bewir/test/e2e-eigenbeleg-workflow.spec.ts:30:30)
        at /Users/daniel/dev/Bewritung/bewir/test/e2e-eigenbeleg-workflow.spec.ts:201:20

    Error Context: test-results/e2e-eigenbeleg-workflow-Ei-79753-rrectly-for-required-fields-chromium/error-context.md


[1A[2K  25) [chromium] â€º test/e2e-eigenbeleg-workflow.spec.ts:212:3 â€º Eigenbeleg Workflow â€º should work with and without file attachments 

    [31mTest timeout of 30000ms exceeded.[39m

    Error: locator.check: Test timeout of 30000ms exceeded.
    Call log:
    [2m  - waiting for locator('label:has-text("Eigenbeleg") input[type="checkbox"]').or(locator('input[type="checkbox"]').filter({ has: locator('text=Eigenbeleg') })).or(locator('[data-testid="eigenbeleg-checkbox"]')).first()[22m


      28 |     ).first();
      29 |     
    > 30 |     await eigenbelegCheckbox.check();
         |                              ^
      31 |     await this.page.waitForTimeout(500); // Wait for UI state change
      32 |   }
      33 |
        at EigenbelegWorkflow.checkEigenbelegOption (/Users/daniel/dev/Bewritung/bewir/test/e2e-eigenbeleg-workflow.spec.ts:30:30)
        at /Users/daniel/dev/Bewritung/bewir/test/e2e-eigenbeleg-workflow.spec.ts:216:20

    Error Context: test-results/e2e-eigenbeleg-workflow-Ei-c121f-nd-without-file-attachments-chromium/error-context.md


[1A[2K[31/63] [chromium] â€º test/e2e-zugferd.spec.ts:103:3 â€º ZUGFeRD PDF Generation â€º should handle ZUGFeRD generation errors gracefully
[1A[2K[32/63] [chromium] â€º test/e2e-zugferd.spec.ts:16:3 â€º ZUGFeRD PDF Generation â€º should generate ZUGFeRD-compliant PDF with all required fields
[1A[2K  26) [chromium] â€º test/e2e-eigenbeleg-workflow.spec.ts:231:3 â€º Eigenbeleg PDF Content Verification â€º should generate PDF with correct Eigenbeleg content 

    [31mTest timeout of 30000ms exceeded.[39m

    Error: locator.check: Test timeout of 30000ms exceeded.
    Call log:
    [2m  - waiting for locator('label:has-text("Eigenbeleg") input[type="checkbox"]').or(locator('input[type="checkbox"]').filter({ has: locator('text=Eigenbeleg') })).or(locator('[data-testid="eigenbeleg-checkbox"]')).first()[22m


      28 |     ).first();
      29 |     
    > 30 |     await eigenbelegCheckbox.check();
         |                              ^
      31 |     await this.page.waitForTimeout(500); // Wait for UI state change
      32 |   }
      33 |
        at EigenbelegWorkflow.checkEigenbelegOption (/Users/daniel/dev/Bewritung/bewir/test/e2e-eigenbeleg-workflow.spec.ts:30:30)
        at /Users/daniel/dev/Bewritung/bewir/test/e2e-eigenbeleg-workflow.spec.ts:235:20

    Error Context: test-results/e2e-eigenbeleg-workflow-Ei-528a9--correct-Eigenbeleg-content-chromium/error-context.md


[1A[2K[33/63] [chromium] â€º test/e2e-zugferd.spec.ts:142:3 â€º ZUGFeRD PDF Generation â€º should validate VAT breakdown for ZUGFeRD
[1A[2K  27) [chromium] â€º test/e2e-tip-calculation.spec.ts:215:3 â€º Tip Calculation - Manual Entry â€º should handle German decimal format (comma separator) 

    [31mTest timeout of 30000ms exceeded.[39m

    Error: locator.clear: Test timeout of 30000ms exceeded.
    Call log:
    [2m  - waiting for locator('#gesamtbetrag, input[id="gesamtbetrag"]').first()[22m


      83 |     // Mantine forms use IDs, not names
      84 |     const field = this.page.locator(`#${fieldName}, input[id="${fieldName}"]`).first();
    > 85 |     await field.clear();
         |                 ^
      86 |     await field.fill(value);
      87 |
      88 |     // Trigger blur to ensure onChange fires
        at TipCalculationWorkflow.setFieldValue (/Users/daniel/dev/Bewritung/bewir/test/e2e-tip-calculation.spec.ts:85:17)
        at /Users/daniel/dev/Bewritung/bewir/test/e2e-tip-calculation.spec.ts:219:20

    Error Context: test-results/e2e-tip-calculation-Tip-Ca-9d851-mal-format-comma-separator--chromium/error-context.md


[1A[2K  28) [chromium] â€º test/e2e-tip-calculation.spec.ts:236:3 â€º Tip Calculation - Manual Entry â€º should not calculate tip when credit card amount < invoice amount 

    [31mTest timeout of 30000ms exceeded.[39m

    Error: locator.clear: Test timeout of 30000ms exceeded.
    Call log:
    [2m  - waiting for locator('#gesamtbetrag, input[id="gesamtbetrag"]').first()[22m


      83 |     // Mantine forms use IDs, not names
      84 |     const field = this.page.locator(`#${fieldName}, input[id="${fieldName}"]`).first();
    > 85 |     await field.clear();
         |                 ^
      86 |     await field.fill(value);
      87 |
      88 |     // Trigger blur to ensure onChange fires
        at TipCalculationWorkflow.setFieldValue (/Users/daniel/dev/Bewritung/bewir/test/e2e-tip-calculation.spec.ts:85:17)
        at /Users/daniel/dev/Bewritung/bewir/test/e2e-tip-calculation.spec.ts:240:20

    Error Context: test-results/e2e-tip-calculation-Tip-Ca-13fe0--card-amount-invoice-amount-chromium/error-context.md


[1A[2K[34/63] [chromium] â€º test/e2e-zugferd.spec.ts:189:3 â€º ZUGFeRD PDF Generation â€º should include business entertainment deductibility in ZUGFeRD
[1A[2K[35/63] [chromium] â€º test/e2e-zugferd.spec.ts:233:3 â€º ZUGFeRD Integration Tests â€º should properly format German addresses in ZUGFeRD XML
[1A[2K[36/63] [chromium] â€º test/e2e-zugferd.spec.ts:278:3 â€º ZUGFeRD Integration Tests â€º should handle UTF-8 characters in ZUGFeRD data
[1A[2K  29) [chromium] â€º test/e2e-zugferd.spec.ts:278:3 â€º ZUGFeRD Integration Tests â€º should handle UTF-8 characters in ZUGFeRD data 

    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBeTruthy[2m()[22m

    Received: [31mfalse[39m

      291 |     });
      292 |     
    > 293 |     expect(response.ok()).toBeTruthy();
          |                           ^
      294 |   });
      295 | });
        at /Users/daniel/dev/Bewritung/bewir/test/e2e-zugferd.spec.ts:293:27

    Error Context: test-results/e2e-zugferd-ZUGFeRD-Integr-b8bfd--characters-in-ZUGFeRD-data-chromium/error-context.md


[1A[2K[37/63] [chromium] â€º test/eigenbeleg-validation-simple.spec.ts:10:3 â€º Eigenbeleg Validation Fix â€º should load bewirtungsbeleg page without errors
[1A[2K[38/63] [chromium] â€º test/eigenbeleg-validation-simple.spec.ts:19:3 â€º Eigenbeleg Validation Fix â€º should show Eigenbeleg checkbox and handle checking it
[1A[2K[39/63] [chromium] â€º test/eigenbeleg-validation-simple.spec.ts:30:3 â€º Eigenbeleg Validation Fix â€º should not show validation error for image field when submitting basic form
[1A[2K  30) [chromium] â€º test/e2e-tip-calculation.spec.ts:257:3 â€º Tip Calculation - Manual Entry â€º should not calculate tip when amounts are equal 

    [31mTest timeout of 30000ms exceeded.[39m

    Error: locator.clear: Test timeout of 30000ms exceeded.
    Call log:
    [2m  - waiting for locator('#gesamtbetrag, input[id="gesamtbetrag"]').first()[22m


      83 |     // Mantine forms use IDs, not names
      84 |     const field = this.page.locator(`#${fieldName}, input[id="${fieldName}"]`).first();
    > 85 |     await field.clear();
         |                 ^
      86 |     await field.fill(value);
      87 |
      88 |     // Trigger blur to ensure onChange fires
        at TipCalculationWorkflow.setFieldValue (/Users/daniel/dev/Bewritung/bewir/test/e2e-tip-calculation.spec.ts:85:17)
        at /Users/daniel/dev/Bewritung/bewir/test/e2e-tip-calculation.spec.ts:261:20

    Error Context: test-results/e2e-tip-calculation-Tip-Ca-d2a1b--tip-when-amounts-are-equal-chromium/error-context.md


[1A[2K[40/63] [chromium] â€º test/eigenbeleg-validation-simple.spec.ts:82:3 â€º Eigenbeleg Validation Fix â€º should handle API validation correctly
[1A[2K  31) [chromium] â€º test/e2e-tip-calculation.spec.ts:287:3 â€º Tip Calculation - Reverse Flow â€º should calculate credit card amount when entering tip manually 

    [31mTest timeout of 30000ms exceeded.[39m

    Error: locator.clear: Test timeout of 30000ms exceeded.
    Call log:
    [2m  - waiting for locator('#gesamtbetrag, input[id="gesamtbetrag"]').first()[22m


      83 |     // Mantine forms use IDs, not names
      84 |     const field = this.page.locator(`#${fieldName}, input[id="${fieldName}"]`).first();
    > 85 |     await field.clear();
         |                 ^
      86 |     await field.fill(value);
      87 |
      88 |     // Trigger blur to ensure onChange fires
        at TipCalculationWorkflow.setFieldValue (/Users/daniel/dev/Bewritung/bewir/test/e2e-tip-calculation.spec.ts:85:17)
        at /Users/daniel/dev/Bewritung/bewir/test/e2e-tip-calculation.spec.ts:291:20

    Error Context: test-results/e2e-tip-calculation-Tip-Ca-fb85f--when-entering-tip-manually-chromium/error-context.md


[1A[2K[chromium] â€º test/eigenbeleg-validation-simple.spec.ts:30:3 â€º Eigenbeleg Validation Fix â€º should not show validation error for image field when submitting basic form
Form interaction failed, but checking for validation errors: locator.fill: Error: Input of type "file" cannot be filled
Call log:
[2m  - waiting for locator('input').nth(1)[22m
[2m    - locator resolved to <input multiple type="file" tabindex="-1" accept="image/png,image/jpeg,image/webp,application/pdf"/>[22m
[2m    - fill("Test Restaurant")[22m
[2m  - attempting fill action[22m
[2m    - waiting for element to be visible, enabled and editable[22m

    at [90m/Users/daniel/dev/Bewritung/bewir/[39mtest/eigenbeleg-validation-simple.spec.ts:45:31 {
  [[32mSymbol(step)[39m]: {
    stepId: [32m'pw:api@11'[39m,
    location: {
      file: [32m'/Users/daniel/dev/Bewritung/bewir/test/eigenbeleg-validation-simple.spec.ts'[39m,
      line: [33m45[39m,
      column: [33m31[39m
    },
    category: [32m'pw:api'[39m,
    title: [32m'locator.fill(Test Restaurant)'[39m,
    apiName: [32m'locator.fill'[39m,
    params: {
      selector: [32m'input >> nth=1'[39m,
      value: [32m'Test Restaurant'[39m,
      strict: [33mtrue[39m
    },
    boxedStack: [90mundefined[39m,
    steps: [],
    attachmentIndices: [],
    info: TestStepInfoImpl {
      annotations: [],
      _testInfo: [36m[TestInfoImpl][39m,
      _stepId: [32m'pw:api@11'[39m
    },
    complete: [36m[Function: complete][39m,
    endWallTime: [33m1760679404930[39m,
    error: {
      message: [32m'Error: locator.fill: Error: Input of type "file" cannot be filled\n'[39m +
        [32m'Call log:\n'[39m +
        [32m"\x1B[2m  - waiting for locator('input').nth(1)\x1B[22m\n"[39m +
        [32m'\x1B[2m    - locator resolved to <input multiple type="file" tabindex="-1" accept="image/png,image/jpeg,image/webp,application/pdf"/>\x1B[22m\n'[39m +
        [32m'\x1B[2m    - fill("Test Restaurant")\x1B[22m\n'[39m +
        [32m'\x1B[2m  - attempting fill action\x1B[22m\n'[39m +
        [32m'\x1B[2m    - waiting for element to be visible, enabled and editable\x1B[22m\n'[39m,
      stack: [32m'Error: locator.fill: Error: Input of type "file" cannot be filled\n'[39m +
        [32m'Call log:\n'[39m +
        [32m"\x1B[2m  - waiting for locator('input').nth(1)\x1B[22m\n"[39m +
        [32m'\x1B[2m    - locator resolved to <input multiple type="file" tabindex="-1" accept="image/png,image/jpeg,image/webp,application/pdf"/>\x1B[22m\n'[39m +
        [32m'\x1B[2m    - fill("Test Restaurant")\x1B[22m\n'[39m +
        [32m'\x1B[2m  - attempting fill action\x1B[22m\n'[39m +
        [32m'\x1B[2m    - waiting for element to be visible, enabled and editable\x1B[22m\n'[39m +
        [32m'\n'[39m +
        [32m'    at /Users/daniel/dev/Bewritung/bewir/test/eigenbeleg-validation-simple.spec.ts:45:31'[39m,
      cause: [90mundefined[39m
    }
  }
}

[1A[2K[41/63] [chromium] â€º test/image-preview-real.spec.ts:11:3 â€º Image Preview Real-World Test â€º PDF should be converted and displayed in Image Editor preview
[1A[2K[42/63] [chromium] â€º test/end2end-test.spec.ts:9:1 â€º End-to-end Bewirtungsbeleg test
[1A[2K  32) [chromium] â€º test/end2end-test.spec.ts:9:1 â€º End-to-end Bewirtungsbeleg test â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error: locator.setInputFiles: Error: strict mode violation: locator('input[type="file"]') resolved to 2 elements:
        1) <input multiple type="file" tabindex="-1" accept="image/png,image/jpeg,image/webp,application/pdf"/> aka getByRole('button', { name: 'Choose File' })
        2) <input type="file" accept=".json"/> aka locator('div').filter({ hasText: /^JSON DownloadJSON Upload$/ }).locator('input[type="file"]')

    Call log:
    [2m  - waiting for locator('input[type="file"]')[22m


      20 |   // Upload the PDF file using FileInput
      21 |   const fileInput = page.locator('input[type="file"]');
    > 22 |   await fileInput.setInputFiles(path.join(__dirname, 'input.pdf'));
         |   ^
      23 |   
      24 |   // Wait for file to be processed and take screenshot
      25 |   await page.waitForTimeout(3000); // Give more time for OCR
        at /Users/daniel/dev/Bewritung/bewir/test/end2end-test.spec.ts:22:3

    Error Context: test-results/end2end-test-End-to-end-Bewirtungsbeleg-test-chromium/error-context.md


[1A[2K[chromium] â€º test/image-preview-real.spec.ts:11:3 â€º Image Preview Real-World Test â€º PDF should be converted and displayed in Image Editor preview
Uploading PDF: /Users/daniel/dev/Bewritung/bewir/test/08042025_kreditbeleg_Pareo.pdf

[1A[2K  33) [chromium] â€º test/image-preview-real.spec.ts:11:3 â€º Image Preview Real-World Test â€º PDF should be converted and displayed in Image Editor preview 

    Error: locator.setInputFiles: Error: strict mode violation: locator('input[type="file"]') resolved to 2 elements:
        1) <input multiple type="file" tabindex="-1" accept="image/png,image/jpeg,image/webp,application/pdf"/> aka getByRole('button', { name: 'Choose File' })
        2) <input type="file" accept=".json"/> aka locator('div').filter({ hasText: /^JSON DownloadJSON Upload$/ }).locator('input[type="file"]')

    Call log:
    [2m  - waiting for locator('input[type="file"]')[22m


      27 |     // Upload the PDF file
      28 |     const fileInput = page.locator('input[type="file"]');
    > 29 |     await fileInput.setInputFiles(testPdfPath);
         |     ^
      30 |     
      31 |     // Wait for file to appear in the uploaded files list
      32 |     await page.waitForTimeout(1000);
        at /Users/daniel/dev/Bewritung/bewir/test/image-preview-real.spec.ts:29:5

    Error Context: test-results/image-preview-real-Image-P-91f8d-yed-in-Image-Editor-preview-chromium/error-context.md


[1A[2K[43/63] [chromium] â€º test/image-preview-real.spec.ts:102:3 â€º Image Preview Real-World Test â€º Regular image should display immediately in preview
[1A[2K[44/63] [chromium] â€º test/multipage-pdf-field-preservation.spec.ts:35:3 â€º Multi-Page PDF Field Preservation â€º Paul2.pdf: Kreditkartenbeleg first, then Rechnung - fields should be preserved
[1A[2K  34) [chromium] â€º test/image-preview-real.spec.ts:102:3 â€º Image Preview Real-World Test â€º Regular image should display immediately in preview 

    Error: locator.setInputFiles: Error: strict mode violation: locator('input[type="file"]') resolved to 2 elements:
        1) <input multiple type="file" tabindex="-1" accept="image/png,image/jpeg,image/webp,application/pdf"/> aka getByRole('button', { name: 'Choose File' })
        2) <input type="file" accept=".json"/> aka locator('div').filter({ hasText: /^JSON DownloadJSON Upload$/ }).locator('input[type="file"]')

    Call log:
    [2m  - waiting for locator('input[type="file"]')[22m


      125 |     // Upload the image
      126 |     const fileInput = page.locator('input[type="file"]');
    > 127 |     await fileInput.setInputFiles(testImagePath);
          |     ^
      128 |     await page.waitForTimeout(1000);
      129 |     
      130 |     // Click on the uploaded file to select it
        at /Users/daniel/dev/Bewritung/bewir/test/image-preview-real.spec.ts:127:5

    Error Context: test-results/image-preview-real-Image-P-bba26-play-immediately-in-preview-chromium/error-context.md


[1A[2K[chromium] â€º test/multipage-pdf-field-preservation.spec.ts:35:3 â€º Multi-Page PDF Field Preservation â€º Paul2.pdf: Kreditkartenbeleg first, then Rechnung - fields should be preserved
ðŸ“„ Testing Paul2.pdf: Kreditkartenbeleg â†’ Rechnung

[1A[2Kâ³ Waiting for PDF conversion and OCR...

[1A[2K[45/63] [chromium] â€º test/multipage-pdf-field-preservation.spec.ts:113:3 â€º Multi-Page PDF Field Preservation â€º Paul1.pdf: Rechnung first, then Kreditkartenbeleg - fields should be preserved
[1A[2K[46/63] [chromium] â€º test/multipage-pdf-field-preservation.spec.ts:189:3 â€º Multi-Page PDF Field Preservation â€º Paul2.pdf: Verify console logs show ref preservation
[1A[2K[chromium] â€º test/multipage-pdf-field-preservation.spec.ts:189:3 â€º Multi-Page PDF Field Preservation â€º Paul2.pdf: Verify console logs show ref preservation
ðŸ“„ Testing console logs for ref preservation

[1A[2K[chromium] â€º test/multipage-pdf-field-preservation.spec.ts:113:3 â€º Multi-Page PDF Field Preservation â€º Paul1.pdf: Rechnung first, then Kreditkartenbeleg - fields should be preserved
ðŸ“„ Testing Paul1.pdf: Rechnung â†’ Kreditkartenbeleg

[1A[2Kâ³ Waiting for PDF conversion and OCR...

[1A[2K  35) [chromium] â€º test/e2e-zugferd.spec.ts:16:3 â€º ZUGFeRD PDF Generation â€º should generate ZUGFeRD-compliant PDF with all required fields 

    [31mTest timeout of 30000ms exceeded.[39m

    Error: page.fill: Test timeout of 30000ms exceeded.
    Call log:
    [2m  - waiting for locator('input[name="datum"]')[22m


      16 |   test('should generate ZUGFeRD-compliant PDF with all required fields', async ({ page }) => {
      17 |     // Fill in the form with complete data
    > 18 |     await page.fill('input[name="datum"]', '15.04.2024');
         |                ^
      19 |     await page.fill('input[name="restaurantName"]', 'Restaurant Zur Post');
      20 |     await page.fill('input[name="restaurantAnschrift"]', 'HauptstraÃŸe 42');
      21 |     await page.fill('input[name="restaurantPlz"]', '10115');
        at /Users/daniel/dev/Bewritung/bewir/test/e2e-zugferd.spec.ts:18:16

    Error Context: test-results/e2e-zugferd-ZUGFeRD-PDF-Ge-af460-DF-with-all-required-fields-chromium/error-context.md


[1A[2K  36) [chromium] â€º test/e2e-zugferd.spec.ts:103:3 â€º ZUGFeRD PDF Generation â€º should handle ZUGFeRD generation errors gracefully 

    [31mTest timeout of 30000ms exceeded.[39m

    Error: page.fill: Test timeout of 30000ms exceeded.
    Call log:
    [2m  - waiting for locator('input[name="datum"]')[22m


      103 |   test('should handle ZUGFeRD generation errors gracefully', async ({ page }) => {
      104 |     // Fill minimal required fields
    > 105 |     await page.fill('input[name="datum"]', '15.04.2024');
          |                ^
      106 |     await page.fill('input[name="restaurantName"]', 'Test Restaurant');
      107 |     await page.fill('textarea[name="teilnehmer"]', 'Test Person');
      108 |     await page.fill('textarea[name="anlass"]', 'Test');
        at /Users/daniel/dev/Bewritung/bewir/test/e2e-zugferd.spec.ts:105:16

    Error Context: test-results/e2e-zugferd-ZUGFeRD-PDF-Ge-23e71-eneration-errors-gracefully-chromium/error-context.md


[1A[2K[47/63] [chromium] â€º test/multipage-pdf-field-preservation.spec.ts:265:3 â€º Multi-Page PDF Field Preservation â€º Edge case: Negative tip (kreditkartenbetrag less than gesamtbetrag)
[1A[2K[48/63] [chromium] â€º test/multipage-pdf-field-preservation.spec.ts:246:3 â€º Multi-Page PDF Field Preservation â€º Edge case: Empty tip (kreditkartenbetrag equals gesamtbetrag)
[1A[2K  37) [chromium] â€º test/multipage-pdf-field-preservation.spec.ts:246:3 â€º Multi-Page PDF Field Preservation â€º Edge case: Empty tip (kreditkartenbetrag equals gesamtbetrag) 

    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

    Expected: [32m0[39m
    Received: [31mNaN[39m

      259 |     const tipValue = parseFloat(trinkgeld.replace(',', '.'));
      260 |
    > 261 |     expect(tipValue).toBe(0.00);
          |                      ^
      262 |     console.log('âœ… Edge case: Empty tip correctly calculated as 0.00');
      263 |   });
      264 |
        at /Users/daniel/dev/Bewritung/bewir/test/multipage-pdf-field-preservation.spec.ts:261:22

    Error Context: test-results/multipage-pdf-field-preser-cb4cd-betrag-equals-gesamtbetrag--chromium/error-context.md


[1A[2K[chromium] â€º test/multipage-pdf-field-preservation.spec.ts:265:3 â€º Multi-Page PDF Field Preservation â€º Edge case: Negative tip (kreditkartenbetrag less than gesamtbetrag)
Edge case: Negative tip scenario, trinkgeld = 

[1A[2K[49/63] [chromium] â€º test/multipage-pdf-field-preservation.spec.ts:369:3 â€º Combined Receipt Tests (Both on Same Page) â€º Combined receipt: Both amounts extracted correctly
[1A[2K[50/63] [chromium] â€º test/multipage-pdf-field-preservation.spec.ts:286:3 â€º Multi-Page PDF Field Preservation â€º Paul3.jpg: Combined receipt - both amounts on same page
[1A[2K[chromium] â€º test/multipage-pdf-field-preservation.spec.ts:369:3 â€º Combined Receipt Tests (Both on Same Page) â€º Combined receipt: Both amounts extracted correctly
ðŸ§ª Testing combined receipt extraction with spatial guidance

[1A[2K[chromium] â€º test/multipage-pdf-field-preservation.spec.ts:286:3 â€º Multi-Page PDF Field Preservation â€º Paul3.jpg: Combined receipt - both amounts on same page
ðŸ“„ Testing Paul3.jpg: Combined receipt (Kreditkartenbeleg + Rechnung on same page)

[1A[2Kâ³ Waiting for OCR...

[1A[2K  38) [chromium] â€º test/e2e-zugferd.spec.ts:142:3 â€º ZUGFeRD PDF Generation â€º should validate VAT breakdown for ZUGFeRD 

    [31mTest timeout of 30000ms exceeded.[39m

    Error: page.fill: Test timeout of 30000ms exceeded.
    Call log:
    [2m  - waiting for locator('input[name="datum"]')[22m


      142 |   test('should validate VAT breakdown for ZUGFeRD', async ({ page }) => {
      143 |     // Fill form with specific VAT rates
    > 144 |     await page.fill('input[name="datum"]', '15.04.2024');
          |                ^
      145 |     await page.fill('input[name="restaurantName"]', 'Test Restaurant');
      146 |     await page.fill('input[name="restaurantAnschrift"]', 'Test StraÃŸe 1');
      147 |     await page.fill('input[name="restaurantPlz"]', '12345');
        at /Users/daniel/dev/Bewritung/bewir/test/e2e-zugferd.spec.ts:144:16

    Error Context: test-results/e2e-zugferd-ZUGFeRD-PDF-Ge-4175f-e-VAT-breakdown-for-ZUGFeRD-chromium/error-context.md


[1A[2K[chromium] â€º test/multipage-pdf-field-preservation.spec.ts:113:3 â€º Multi-Page PDF Field Preservation â€º Paul1.pdf: Rechnung first, then Kreditkartenbeleg - fields should be preserved
ðŸ“Š Extracted Values:

[1A[2K  gesamtbetrag: 99.90

[1A[2K  kreditkartenBetrag: 

[1A[2K  trinkgeld: 

[1A[2K  trinkgeldMwst: 

[1A[2Kâœ… gesamtbetrag correct: 99.90

[1A[2K  39) [chromium] â€º test/multipage-pdf-field-preservation.spec.ts:113:3 â€º Multi-Page PDF Field Preservation â€º Paul1.pdf: Rechnung first, then Kreditkartenbeleg - fields should be preserved 

    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

    Expected: [32m"105.00"[39m
    Received: [31m""[39m

      169 |
      170 |     // 2. Credit card amount from Page 2 (Kreditkartenbeleg)
    > 171 |     expect(kreditkartenBetrag).toBe('105.00');
          |                                ^
      172 |     console.log('âœ… kreditkartenBetrag correct: 105.00');
      173 |
      174 |     // 3. Tip should be calculated correctly (105.00 - 99.90 = 5.10)
        at /Users/daniel/dev/Bewritung/bewir/test/multipage-pdf-field-preservation.spec.ts:171:32

    Error Context: test-results/multipage-pdf-field-preser-81536--fields-should-be-preserved-chromium/error-context.md


[1A[2K[51/63] [chromium] â€º test/multipage-pdf-field-preservation.spec.ts:418:3 â€º Combined Receipt Tests (Both on Same Page) â€º Combined receipt: Verify classification as Rechnung&Kreditkartenbeleg
[1A[2K[52/63] [chromium] â€º test/multipage-pdf-field-preservation.spec.ts:460:3 â€º Combined Receipt Tests (Both on Same Page) â€º Combined receipt: Tip calculation after both amounts extracted
[1A[2K[chromium] â€º test/multipage-pdf-field-preservation.spec.ts:418:3 â€º Combined Receipt Tests (Both on Same Page) â€º Combined receipt: Verify classification as Rechnung&Kreditkartenbeleg
ðŸ§ª Testing combined receipt classification

[1A[2K[chromium] â€º test/multipage-pdf-field-preservation.spec.ts:460:3 â€º Combined Receipt Tests (Both on Same Page) â€º Combined receipt: Tip calculation after both amounts extracted
ðŸ§ª Testing tip calculation for combined receipt

[1A[2K  40) [chromium] â€º test/e2e-zugferd.spec.ts:189:3 â€º ZUGFeRD PDF Generation â€º should include business entertainment deductibility in ZUGFeRD 

    [31mTest timeout of 30000ms exceeded.[39m

    Error: page.fill: Test timeout of 30000ms exceeded.
    Call log:
    [2m  - waiting for locator('input[name="datum"]')[22m


      189 |   test('should include business entertainment deductibility in ZUGFeRD', async ({ page }) => {
      190 |     // Test customer entertainment (70% deductible)
    > 191 |     await page.fill('input[name="datum"]', '15.04.2024');
          |                ^
      192 |     await page.fill('input[name="restaurantName"]', 'Restaurant Test');
      193 |     await page.fill('input[name="gesamtbetrag"]', '100,00');
      194 |     await page.fill('textarea[name="teilnehmer"]', 'Kunde A, Kunde B');
        at /Users/daniel/dev/Bewritung/bewir/test/e2e-zugferd.spec.ts:191:16

    Error Context: test-results/e2e-zugferd-ZUGFeRD-PDF-Ge-568ca-nt-deductibility-in-ZUGFeRD-chromium/error-context.md


[1A[2K[53/63] [chromium] â€º test/multipage-pdf-field-preservation.spec.ts:512:3 â€º Multi-Page PDF Processing Order Independence â€º Processing order should not affect final result
[1A[2K[chromium] â€º test/multipage-pdf-field-preservation.spec.ts:512:3 â€º Multi-Page PDF Processing Order Independence â€º Processing order should not affect final result
âœ… Processing order independence verified by Paul1 and Paul2 tests

[1A[2K[54/63] [chromium] â€º test/pdf-conversion.spec.ts:103:3 â€º PDF to Image Conversion â€º should convert PDF to image and display it
[1A[2K  41) [chromium] â€º test/pdf-conversion.spec.ts:103:3 â€º PDF to Image Conversion â€º should convert PDF to image and display it 

    Error: locator.setInputFiles: Error: strict mode violation: locator('input[type="file"]') resolved to 2 elements:
        1) <input multiple type="file" tabindex="-1" accept="image/png,image/jpeg,image/webp,application/pdf"/> aka getByRole('button', { name: 'Choose File' })
        2) <input type="file" accept=".json"/> aka locator('div').filter({ hasText: /^JSON DownloadJSON Upload$/ }).locator('input[type="file"]')

    Call log:
    [2m  - waiting for locator('input[type="file"]')[22m


      19 |   async uploadFile(filePath: string) {
      20 |     const fileInput = this.page.locator('input[type="file"]');
    > 21 |     await fileInput.setInputFiles(filePath);
         |     ^
      22 |   }
      23 |
      24 |   async waitForPdfConversion() {
        at BewirtungsbelegPage.uploadFile (/Users/daniel/dev/Bewritung/bewir/test/pdf-conversion.spec.ts:21:5)
        at /Users/daniel/dev/Bewritung/bewir/test/pdf-conversion.spec.ts:122:5

    Error Context: test-results/pdf-conversion-PDF-to-Imag-f4d1a-PDF-to-image-and-display-it-chromium/error-context.md


[1A[2K[55/63] [chromium] â€º test/pdf-conversion.spec.ts:137:3 â€º PDF to Image Conversion â€º should enable rotation controls after PDF conversion
[1A[2K  42) [chromium] â€º test/pdf-conversion.spec.ts:137:3 â€º PDF to Image Conversion â€º should enable rotation controls after PDF conversion 

    Error: locator.setInputFiles: Error: strict mode violation: locator('input[type="file"]') resolved to 2 elements:
        1) <input multiple type="file" tabindex="-1" accept="image/png,image/jpeg,image/webp,application/pdf"/> aka getByRole('button', { name: 'Choose File' })
        2) <input type="file" accept=".json"/> aka locator('div').filter({ hasText: /^JSON DownloadJSON Upload$/ }).locator('input[type="file"]')

    Call log:
    [2m  - waiting for locator('input[type="file"]')[22m


      19 |   async uploadFile(filePath: string) {
      20 |     const fileInput = this.page.locator('input[type="file"]');
    > 21 |     await fileInput.setInputFiles(filePath);
         |     ^
      22 |   }
      23 |
      24 |   async waitForPdfConversion() {
        at BewirtungsbelegPage.uploadFile (/Users/daniel/dev/Bewritung/bewir/test/pdf-conversion.spec.ts:21:5)
        at /Users/daniel/dev/Bewritung/bewir/test/pdf-conversion.spec.ts:151:5

    Error Context: test-results/pdf-conversion-PDF-to-Imag-f18ed-ntrols-after-PDF-conversion-chromium/error-context.md


[1A[2K[56/63] [chromium] â€º test/pdf-conversion.spec.ts:168:3 â€º PDF to Image Conversion â€º should handle PDF conversion errors gracefully
[1A[2K  43) [chromium] â€º test/pdf-conversion.spec.ts:168:3 â€º PDF to Image Conversion â€º should handle PDF conversion errors gracefully 

    Error: locator.setInputFiles: Error: strict mode violation: locator('input[type="file"]') resolved to 2 elements:
        1) <input multiple type="file" tabindex="-1" accept="image/png,image/jpeg,image/webp,application/pdf"/> aka getByRole('button', { name: 'Choose File' })
        2) <input type="file" accept=".json"/> aka locator('div').filter({ hasText: /^JSON DownloadJSON Upload$/ }).locator('input[type="file"]')

    Call log:
    [2m  - waiting for locator('input[type="file"]')[22m


      19 |   async uploadFile(filePath: string) {
      20 |     const fileInput = this.page.locator('input[type="file"]');
    > 21 |     await fileInput.setInputFiles(filePath);
         |     ^
      22 |   }
      23 |
      24 |   async waitForPdfConversion() {
        at BewirtungsbelegPage.uploadFile (/Users/daniel/dev/Bewritung/bewir/test/pdf-conversion.spec.ts:21:5)
        at /Users/daniel/dev/Bewritung/bewir/test/pdf-conversion.spec.ts:190:5

    Error Context: test-results/pdf-conversion-PDF-to-Imag-f4b3c-onversion-errors-gracefully-chromium/error-context.md


[1A[2K[chromium] â€º test/multipage-pdf-field-preservation.spec.ts:189:3 â€º Multi-Page PDF Field Preservation â€º Paul2.pdf: Verify console logs show ref preservation
ðŸ” Console: ðŸ“‹ Before: refs = {lastCreditCardAmountRef: 105.00, lastTipAmountRef: 0.00, lastTipMwstRef: 0.00}

[1A[2KðŸ” Console: âœ… Preserving kreditkartenBetrag from ref: 105.00

[1A[2KðŸ” Console: âœ… Preserving trinkgeld from ref/OCR: 0.00

[1A[2KðŸ” Console: âœ… Preserving trinkgeldMwst from ref: 0.00

[1A[2K[57/63] [chromium] â€º test/pdf-conversion.spec.ts:200:3 â€º PDF to Image Conversion â€º should clear error when removing PDF file
[1A[2K[chromium] â€º test/multipage-pdf-field-preservation.spec.ts:418:3 â€º Combined Receipt Tests (Both on Same Page) â€º Combined receipt: Verify classification as Rechnung&Kreditkartenbeleg
ðŸ“ Console: Classification successful: {type: Rechnung&Kreditkartenbeleg, confidence: 1, reason: Dokument enthÃ¤lt sowohl detaillierte Positionen als auch Kreditkartendetails., details: Object}

[1A[2K  44) [chromium] â€º test/pdf-conversion.spec.ts:200:3 â€º PDF to Image Conversion â€º should clear error when removing PDF file 

    Error: locator.setInputFiles: Error: strict mode violation: locator('input[type="file"]') resolved to 2 elements:
        1) <input multiple type="file" tabindex="-1" accept="image/png,image/jpeg,image/webp,application/pdf"/> aka getByRole('button', { name: 'Choose File' })
        2) <input type="file" accept=".json"/> aka locator('div').filter({ hasText: /^JSON DownloadJSON Upload$/ }).locator('input[type="file"]')

    Call log:
    [2m  - waiting for locator('input[type="file"]')[22m


      19 |   async uploadFile(filePath: string) {
      20 |     const fileInput = this.page.locator('input[type="file"]');
    > 21 |     await fileInput.setInputFiles(filePath);
         |     ^
      22 |   }
      23 |
      24 |   async waitForPdfConversion() {
        at BewirtungsbelegPage.uploadFile (/Users/daniel/dev/Bewritung/bewir/test/pdf-conversion.spec.ts:21:5)
        at /Users/daniel/dev/Bewritung/bewir/test/pdf-conversion.spec.ts:222:5

    Error Context: test-results/pdf-conversion-PDF-to-Imag-3affd-rror-when-removing-PDF-file-chromium/error-context.md


[1A[2K[chromium] â€º test/multipage-pdf-field-preservation.spec.ts:35:3 â€º Multi-Page PDF Field Preservation â€º Paul2.pdf: Kreditkartenbeleg first, then Rechnung - fields should be preserved
ðŸ“Š Extracted Values:

[1A[2K  gesamtbetrag: 99.90

[1A[2K  kreditkartenBetrag: 105.00

[1A[2K  trinkgeld: 

[1A[2K  trinkgeldMwst: 

[1A[2Kâœ… gesamtbetrag correct: 99.90

[1A[2Kâœ… kreditkartenBetrag PRESERVED: 105.00

[1A[2K  45) [chromium] â€º test/multipage-pdf-field-preservation.spec.ts:35:3 â€º Multi-Page PDF Field Preservation â€º Paul2.pdf: Kreditkartenbeleg first, then Rechnung - fields should be preserved 

    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBeCloseTo[2m([22m[32mexpected[39m[2m, [22mprecision[2m)[22m

    Expected: [32m5.1[39m
    Received: [31mNaN[39m

    Expected precision:    2
    Expected difference: < [32m0.005[39m
    Received difference:   [31mNaN[39m

       98 |     // 3. Tip should be calculated correctly (105.00 - 99.90 = 5.10)
       99 |     const tipValue = parseFloat(trinkgeld.replace(',', '.'));
    > 100 |     expect(tipValue).toBeCloseTo(5.10, 2);
          |                      ^
      101 |     console.log('âœ… trinkgeld calculated correctly: 5.10');
      102 |
      103 |     // 4. Tip MwSt should be ~0.97 (19% of 5.10)
        at /Users/daniel/dev/Bewritung/bewir/test/multipage-pdf-field-preservation.spec.ts:100:22

    Error Context: test-results/multipage-pdf-field-preser-9adeb--fields-should-be-preserved-chromium/error-context.md


[1A[2K[58/63] [chromium] â€º test/pdf-conversion.spec.ts:236:3 â€º PDF to Image Conversion â€º should handle PNG files without conversion
[1A[2K[chromium] â€º test/multipage-pdf-field-preservation.spec.ts:189:3 â€º Multi-Page PDF Field Preservation â€º Paul2.pdf: Verify console logs show ref preservation
âœ… Found preservation logs: [33m2[39m

[1A[2K  46) [chromium] â€º test/multipage-pdf-field-preservation.spec.ts:189:3 â€º Multi-Page PDF Field Preservation â€º Paul2.pdf: Verify console logs show ref preservation 

    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBeGreaterThan[2m([22m[32mexpected[39m[2m)[22m

    Expected: > [32m0[39m
    Received:   [31m0[39m

      240 |     );
      241 |
    > 242 |     expect(fixLogs.length).toBeGreaterThan(0);
          |                            ^
      243 |     console.log('âœ… Found fix logs:', fixLogs.length);
      244 |   });
      245 |
        at /Users/daniel/dev/Bewritung/bewir/test/multipage-pdf-field-preservation.spec.ts:242:28

    Error Context: test-results/multipage-pdf-field-preser-dedf7--logs-show-ref-preservation-chromium/error-context.md


[1A[2K[59/63] [chromium] â€º test/pdf-conversion.spec.ts:273:3 â€º PDF to Image Conversion â€º should complete full PDF workflow with rotation
[1A[2K[60/63] [chromium] â€º test/pdf-conversion.spec.ts:310:3 â€º PDF to Image Conversion â€º should not extract data from PDF files
[1A[2K  47) [chromium] â€º test/pdf-conversion.spec.ts:236:3 â€º PDF to Image Conversion â€º should handle PNG files without conversion 

    Error: locator.setInputFiles: Error: strict mode violation: locator('input[type="file"]') resolved to 2 elements:
        1) <input multiple type="file" tabindex="-1" accept="image/png,image/jpeg,image/webp,application/pdf"/> aka getByRole('button', { name: 'Choose File' })
        2) <input type="file" accept=".json"/> aka locator('div').filter({ hasText: /^JSON DownloadJSON Upload$/ }).locator('input[type="file"]')

    Call log:
    [2m  - waiting for locator('input[type="file"]')[22m


      19 |   async uploadFile(filePath: string) {
      20 |     const fileInput = this.page.locator('input[type="file"]');
    > 21 |     await fileInput.setInputFiles(filePath);
         |     ^
      22 |   }
      23 |
      24 |   async waitForPdfConversion() {
        at BewirtungsbelegPage.uploadFile (/Users/daniel/dev/Bewritung/bewir/test/pdf-conversion.spec.ts:21:5)
        at /Users/daniel/dev/Bewritung/bewir/test/pdf-conversion.spec.ts:258:5

    Error Context: test-results/pdf-conversion-PDF-to-Imag-d05de-NG-files-without-conversion-chromium/error-context.md


[1A[2K  48) [chromium] â€º test/pdf-conversion.spec.ts:273:3 â€º PDF to Image Conversion â€º should complete full PDF workflow with rotation 

    Error: locator.setInputFiles: Error: strict mode violation: locator('input[type="file"]') resolved to 2 elements:
        1) <input multiple type="file" tabindex="-1" accept="image/png,image/jpeg,image/webp,application/pdf"/> aka getByRole('button', { name: 'Choose File' })
        2) <input type="file" accept=".json"/> aka locator('div').filter({ hasText: /^JSON DownloadJSON Upload$/ }).locator('input[type="file"]')

    Call log:
    [2m  - waiting for locator('input[type="file"]')[22m


      19 |   async uploadFile(filePath: string) {
      20 |     const fileInput = this.page.locator('input[type="file"]');
    > 21 |     await fileInput.setInputFiles(filePath);
         |     ^
      22 |   }
      23 |
      24 |   async waitForPdfConversion() {
        at BewirtungsbelegPage.uploadFile (/Users/daniel/dev/Bewritung/bewir/test/pdf-conversion.spec.ts:21:5)
        at /Users/daniel/dev/Bewritung/bewir/test/pdf-conversion.spec.ts:287:5

    Error Context: test-results/pdf-conversion-PDF-to-Imag-8c1a5--PDF-workflow-with-rotation-chromium/error-context.md


[1A[2K[61/63] [chromium] â€º test/pdf-conversion.spec.ts:358:3 â€º Multiple File Handling â€º should handle mixed PDF and image uploads
[1A[2K  49) [chromium] â€º test/pdf-conversion.spec.ts:310:3 â€º PDF to Image Conversion â€º should not extract data from PDF files 

    Error: locator.setInputFiles: Error: strict mode violation: locator('input[type="file"]') resolved to 2 elements:
        1) <input multiple type="file" tabindex="-1" accept="image/png,image/jpeg,image/webp,application/pdf"/> aka getByRole('button', { name: 'Choose File' })
        2) <input type="file" accept=".json"/> aka locator('div').filter({ hasText: /^JSON DownloadJSON Upload$/ }).locator('input[type="file"]')

    Call log:
    [2m  - waiting for locator('input[type="file"]')[22m


      19 |   async uploadFile(filePath: string) {
      20 |     const fileInput = this.page.locator('input[type="file"]');
    > 21 |     await fileInput.setInputFiles(filePath);
         |     ^
      22 |   }
      23 |
      24 |   async waitForPdfConversion() {
        at BewirtungsbelegPage.uploadFile (/Users/daniel/dev/Bewritung/bewir/test/pdf-conversion.spec.ts:21:5)
        at /Users/daniel/dev/Bewritung/bewir/test/pdf-conversion.spec.ts:331:5

    Error Context: test-results/pdf-conversion-PDF-to-Imag-35ec8-extract-data-from-PDF-files-chromium/error-context.md


[1A[2K[62/63] [chromium] â€º test/pdf-simple.spec.ts:10:3 â€º Simple PDF Conversion Test â€º should display the upload area
[1A[2K[chromium] â€º test/multipage-pdf-field-preservation.spec.ts:286:3 â€º Multi-Page PDF Field Preservation â€º Paul3.jpg: Combined receipt - both amounts on same page
ðŸ“Š Extracted Values:

[1A[2K  gesamtbetrag: 38.90

[1A[2K  kreditkartenBetrag: 

[1A[2K  trinkgeld: 6.10

[1A[2K  trinkgeldMwst: 

[1A[2Kâœ… gesamtbetrag correct: 38.90

[1A[2K  50) [chromium] â€º test/multipage-pdf-field-preservation.spec.ts:286:3 â€º Multi-Page PDF Field Preservation â€º Paul3.jpg: Combined receipt - both amounts on same page 

    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

    Expected: [32m"45.00"[39m
    Received: [31m""[39m

      342 |
      343 |     // 2. CRITICAL: Credit card amount from left side (SUMME EUR: 45,00) MUST BE EXTRACTED
    > 344 |     expect(kreditkartenBetrag).toBe('45.00');
          |                                ^
      345 |     console.log('âœ… kreditkartenBetrag extracted: 45.00');
      346 |
      347 |     // 3. Tip should be calculated correctly (45.00 - 38.90 = 6.10)
        at /Users/daniel/dev/Bewritung/bewir/test/multipage-pdf-field-preservation.spec.ts:344:32

    Error Context: test-results/multipage-pdf-field-preser-97420---both-amounts-on-same-page-chromium/error-context.md


[1A[2K[63/63] [chromium] â€º test/pdf-simple.spec.ts:30:3 â€º Simple PDF Conversion Test â€º should upload and convert a PDF
[1A[2K  51) [chromium] â€º test/pdf-conversion.spec.ts:358:3 â€º Multiple File Handling â€º should handle mixed PDF and image uploads 

    Error: locator.setInputFiles: Error: strict mode violation: locator('input[type="file"]') resolved to 2 elements:
        1) <input multiple type="file" tabindex="-1" accept="image/png,image/jpeg,image/webp,application/pdf"/> aka getByRole('button', { name: 'Choose File' })
        2) <input type="file" accept=".json"/> aka locator('div').filter({ hasText: /^JSON DownloadJSON Upload$/ }).locator('input[type="file"]')

    Call log:
    [2m  - waiting for locator('input[type="file"]')[22m


      390 |     // Upload both files
      391 |     const fileInput = page.locator('input[type="file"]');
    > 392 |     await fileInput.setInputFiles([testPngPath, testPdfPath]);
          |     ^
      393 |
      394 |     // Wait for PDF conversion (PNG should be instant)
      395 |     await page.waitForTimeout(3000);
        at /Users/daniel/dev/Bewritung/bewir/test/pdf-conversion.spec.ts:392:5

    Error Context: test-results/pdf-conversion-Multiple-Fi-f6e27-mixed-PDF-and-image-uploads-chromium/error-context.md


[1A[2K  52) [chromium] â€º test/pdf-simple.spec.ts:10:3 â€º Simple PDF Conversion Test â€º should display the upload area 

    Error: expect.toBeAttached: Error: strict mode violation: locator('input[type="file"]') resolved to 2 elements:
        1) <input multiple type="file" tabindex="-1" accept="image/png,image/jpeg,image/webp,application/pdf"/> aka getByRole('button', { name: 'Choose File' })
        2) <input type="file" accept=".json"/> aka locator('div').filter({ hasText: /^JSON DownloadJSON Upload$/ }).locator('input[type="file"]')

    Call log:
    [2m  - expect.toBeAttached with timeout 5000ms[22m
    [2m  - waiting for locator('input[type="file"]')[22m


      17 |     // Check if the file input exists
      18 |     const fileInput = page.locator('input[type="file"]');
    > 19 |     await expect(fileInput).toBeAttached();
         |                             ^
      20 |     
      21 |     // Check if dropzone area is visible
      22 |     const dropzone = page.locator('text=/Dateien hier ablegen oder klicken/i');
        at /Users/daniel/dev/Bewritung/bewir/test/pdf-simple.spec.ts:19:29

    Error Context: test-results/pdf-simple-Simple-PDF-Conv-3821d-uld-display-the-upload-area-chromium/error-context.md


[1A[2K[chromium] â€º test/pdf-simple.spec.ts:30:3 â€º Simple PDF Conversion Test â€º should upload and convert a PDF
Uploading PDF from: /Users/daniel/dev/Bewritung/bewir/test/08042025_kreditbeleg_Pareo.pdf

[1A[2K  53) [chromium] â€º test/pdf-simple.spec.ts:30:3 â€º Simple PDF Conversion Test â€º should upload and convert a PDF 

    Error: locator.setInputFiles: Error: strict mode violation: locator('input[type="file"]') resolved to 2 elements:
        1) <input multiple type="file" tabindex="-1" accept="image/png,image/jpeg,image/webp,application/pdf"/> aka getByRole('button', { name: 'Choose File' })
        2) <input type="file" accept=".json"/> aka locator('div').filter({ hasText: /^JSON DownloadJSON Upload$/ }).locator('input[type="file"]')

    Call log:
    [2m  - waiting for locator('input[type="file"]')[22m


      46 |     // Upload the file
      47 |     const fileInput = page.locator('input[type="file"]');
    > 48 |     await fileInput.setInputFiles(testPdfPath);
         |     ^
      49 |     
      50 |     // Wait a bit for processing
      51 |     await page.waitForTimeout(3000);
        at /Users/daniel/dev/Bewritung/bewir/test/pdf-simple.spec.ts:48:5

    Error Context: test-results/pdf-simple-Simple-PDF-Conv-e6ff1-ld-upload-and-convert-a-PDF-chromium/error-context.md


[1A[2K[chromium] â€º test/multipage-pdf-field-preservation.spec.ts:369:3 â€º Combined Receipt Tests (Both on Same Page) â€º Combined receipt: Both amounts extracted correctly
Verifying both amounts extracted:

[1A[2K  Invoice (gesamtbetrag): 38.90

[1A[2K  Credit Card (kreditkartenbetrag): 

[1A[2K  54) [chromium] â€º test/multipage-pdf-field-preservation.spec.ts:369:3 â€º Combined Receipt Tests (Both on Same Page) â€º Combined receipt: Both amounts extracted correctly 

    Error: [2mexpect([22m[31mreceived[39m[2m).[22mnot[2m.[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

    Expected: not [32m""[39m

      405 |     // Both fields MUST be populated
      406 |     expect(gesamtbetrag).not.toBe('');
    > 407 |     expect(kreditkartenBetrag).not.toBe('');
          |                                    ^
      408 |
      409 |     // Credit card amount should be >= invoice amount
      410 |     const kkNum = parseFloat(kreditkartenBetrag.replace(',', '.'));
        at /Users/daniel/dev/Bewritung/bewir/test/multipage-pdf-field-preservation.spec.ts:407:36

    Error Context: test-results/multipage-pdf-field-preser-00918-amounts-extracted-correctly-chromium/error-context.md


[1A[2K[chromium] â€º test/multipage-pdf-field-preservation.spec.ts:418:3 â€º Combined Receipt Tests (Both on Same Page) â€º Combined receipt: Verify classification as Rechnung&Kreditkartenbeleg
ðŸ“ Console: Classification: Rechnung&Kreditkartenbeleg

[1A[2Kâœ… Combined receipt correctly classified as Rechnung&Kreditkartenbeleg

[1A[2K[chromium] â€º test/multipage-pdf-field-preservation.spec.ts:460:3 â€º Combined Receipt Tests (Both on Same Page) â€º Combined receipt: Tip calculation after both amounts extracted
Tip calculation: NaN - 38.9 = NaN

[1A[2KActual tip: 6.1

[1A[2K  55) [chromium] â€º test/multipage-pdf-field-preservation.spec.ts:460:3 â€º Combined Receipt Tests (Both on Same Page) â€º Combined receipt: Tip calculation after both amounts extracted 

    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBeCloseTo[2m([22m[32mexpected[39m[2m, [22mprecision[2m)[22m

    Expected: [32mNaN[39m
    Received: [31m6.1[39m

    Expected precision:    2
    Expected difference: < [32m0.005[39m
    Received difference:   [31mNaN[39m

      498 |     console.log(`Actual tip: ${tipNum}`);
      499 |
    > 500 |     expect(tipNum).toBeCloseTo(expectedTip, 2);
          |                    ^
      501 |
      502 |     console.log('âœ… Tip correctly calculated from both extracted amounts');
      503 |   });
        at /Users/daniel/dev/Bewritung/bewir/test/multipage-pdf-field-preservation.spec.ts:500:20

    Error Context: test-results/multipage-pdf-field-preser-685c5-fter-both-amounts-extracted-chromium/error-context.md


[1A[2K  55 failed
    [chromium] â€º test/e2e-complete-workflow.spec.ts:91:3 â€º Complete Bewirtungsbeleg Workflow â€º should complete full workflow from image upload to PDF generation 
    [chromium] â€º test/e2e-complete-workflow.spec.ts:156:3 â€º Complete Bewirtungsbeleg Workflow â€º should handle OCR extraction and auto-fill form fields 
    [chromium] â€º test/e2e-complete-workflow.spec.ts:212:3 â€º Complete Bewirtungsbeleg Workflow â€º should validate form before PDF generation 
    [chromium] â€º test/e2e-complete-workflow.spec.ts:236:3 â€º Complete Bewirtungsbeleg Workflow â€º should handle PDF with multiple attachments 
    [chromium] â€º test/e2e-complete-workflow.spec.ts:268:3 â€º Complete Bewirtungsbeleg Workflow â€º should calculate VAT correctly for German amounts 
    [chromium] â€º test/e2e-critical-scenarios.spec.ts:116:3 â€º E2E Test 2: Multiple File Handling with Ordering â€º should maintain correct file order: Rechnung before Kreditbeleg 
    [chromium] â€º test/e2e-critical-scenarios.spec.ts:145:3 â€º E2E Test 2: Multiple File Handling with Ordering â€º should handle multiple attachments of same type 
    [chromium] â€º test/e2e-critical-scenarios.spec.ts:169:3 â€º E2E Test 2: Multiple File Handling with Ordering â€º should allow file removal and re-upload 
    [chromium] â€º test/e2e-critical-scenarios.spec.ts:199:3 â€º E2E Test 3: Error Recovery and Retry â€º should recover from OCR API failure 
    [chromium] â€º test/e2e-critical-scenarios.spec.ts:252:3 â€º E2E Test 3: Error Recovery and Retry â€º should handle network timeout gracefully 
    [chromium] â€º test/e2e-critical-scenarios.spec.ts:272:3 â€º E2E Test 3: Error Recovery and Retry â€º should clear errors when fixing invalid input 
    [chromium] â€º test/e2e-critical-scenarios.spec.ts:300:3 â€º E2E Test 4: Form Validation with German Formats â€º should validate German decimal format 
    [chromium] â€º test/e2e-critical-scenarios.spec.ts:327:3 â€º E2E Test 4: Form Validation with German Formats â€º should validate German date format DD.MM.YYYY 
    [chromium] â€º test/e2e-critical-scenarios.spec.ts:345:3 â€º E2E Test 4: Form Validation with German Formats â€º should handle tip amount in German format 
    [chromium] â€º test/e2e-critical-scenarios.spec.ts:357:3 â€º E2E Test 4: Form Validation with German Formats â€º should validate conditional fields for customer entertainment 
    [chromium] â€º test/e2e-critical-scenarios.spec.ts:385:3 â€º E2E Test 5: Foreign Currency Receipt Handling â€º should handle foreign currency receipt without VAT 
    [chromium] â€º test/e2e-critical-scenarios.spec.ts:405:3 â€º E2E Test 5: Foreign Currency Receipt Handling â€º should validate exchange rate format 
    [chromium] â€º test/e2e-critical-scenarios.spec.ts:424:3 â€º E2E Test 5: Foreign Currency Receipt Handling â€º should handle multiple currency codes 
    [chromium] â€º test/e2e-critical-scenarios.spec.ts:442:3 â€º E2E Test 5: Foreign Currency Receipt Handling â€º should not calculate VAT for foreign receipts 
    [chromium] â€º test/e2e-eigenbeleg-workflow.spec.ts:155:3 â€º Eigenbeleg Workflow â€º should successfully create PDF for Eigenbeleg without file attachments 
    [chromium] â€º test/e2e-eigenbeleg-workflow.spec.ts:186:3 â€º Eigenbeleg Workflow â€º should show Eigenbeleg warning when option is checked 
    [chromium] â€º test/e2e-eigenbeleg-workflow.spec.ts:197:3 â€º Eigenbeleg Workflow â€º should handle form validation correctly for required fields 
    [chromium] â€º test/e2e-eigenbeleg-workflow.spec.ts:212:3 â€º Eigenbeleg Workflow â€º should work with and without file attachments 
    [chromium] â€º test/e2e-eigenbeleg-workflow.spec.ts:231:3 â€º Eigenbeleg PDF Content Verification â€º should generate PDF with correct Eigenbeleg content 
    [chromium] â€º test/e2e-tip-calculation.spec.ts:117:3 â€º Tip Calculation - OCR Extraction â€º should auto-calculate tip after OCR extracts both invoice and credit card 
    [chromium] â€º test/e2e-tip-calculation.spec.ts:172:3 â€º Tip Calculation - Manual Entry â€º should auto-calculate tip when manually entering credit card amount 
    [chromium] â€º test/e2e-tip-calculation.spec.ts:215:3 â€º Tip Calculation - Manual Entry â€º should handle German decimal format (comma separator) 
    [chromium] â€º test/e2e-tip-calculation.spec.ts:236:3 â€º Tip Calculation - Manual Entry â€º should not calculate tip when credit card amount < invoice amount 
    [chromium] â€º test/e2e-tip-calculation.spec.ts:257:3 â€º Tip Calculation - Manual Entry â€º should not calculate tip when amounts are equal 
    [chromium] â€º test/e2e-tip-calculation.spec.ts:287:3 â€º Tip Calculation - Reverse Flow â€º should calculate credit card amount when entering tip manually 
    [chromium] â€º test/e2e-zugferd.spec.ts:16:3 â€º ZUGFeRD PDF Generation â€º should generate ZUGFeRD-compliant PDF with all required fields 
    [chromium] â€º test/e2e-zugferd.spec.ts:103:3 â€º ZUGFeRD PDF Generation â€º should handle ZUGFeRD generation errors gracefully 
    [chromium] â€º test/e2e-zugferd.spec.ts:142:3 â€º ZUGFeRD PDF Generation â€º should validate VAT breakdown for ZUGFeRD 
    [chromium] â€º test/e2e-zugferd.spec.ts:189:3 â€º ZUGFeRD PDF Generation â€º should include business entertainment deductibility in ZUGFeRD 
    [chromium] â€º test/e2e-zugferd.spec.ts:278:3 â€º ZUGFeRD Integration Tests â€º should handle UTF-8 characters in ZUGFeRD data 
    [chromium] â€º test/end2end-test.spec.ts:9:1 â€º End-to-end Bewirtungsbeleg test â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    [chromium] â€º test/image-preview-real.spec.ts:11:3 â€º Image Preview Real-World Test â€º PDF should be converted and displayed in Image Editor preview 
    [chromium] â€º test/image-preview-real.spec.ts:102:3 â€º Image Preview Real-World Test â€º Regular image should display immediately in preview 
    [chromium] â€º test/multipage-pdf-field-preservation.spec.ts:35:3 â€º Multi-Page PDF Field Preservation â€º Paul2.pdf: Kreditkartenbeleg first, then Rechnung - fields should be preserved 
    [chromium] â€º test/multipage-pdf-field-preservation.spec.ts:113:3 â€º Multi-Page PDF Field Preservation â€º Paul1.pdf: Rechnung first, then Kreditkartenbeleg - fields should be preserved 
    [chromium] â€º test/multipage-pdf-field-preservation.spec.ts:189:3 â€º Multi-Page PDF Field Preservation â€º Paul2.pdf: Verify console logs show ref preservation 
    [chromium] â€º test/multipage-pdf-field-preservation.spec.ts:246:3 â€º Multi-Page PDF Field Preservation â€º Edge case: Empty tip (kreditkartenbetrag equals gesamtbetrag) 
    [chromium] â€º test/multipage-pdf-field-preservation.spec.ts:286:3 â€º Multi-Page PDF Field Preservation â€º Paul3.jpg: Combined receipt - both amounts on same page 
    [chromium] â€º test/multipage-pdf-field-preservation.spec.ts:369:3 â€º Combined Receipt Tests (Both on Same Page) â€º Combined receipt: Both amounts extracted correctly 
    [chromium] â€º test/multipage-pdf-field-preservation.spec.ts:460:3 â€º Combined Receipt Tests (Both on Same Page) â€º Combined receipt: Tip calculation after both amounts extracted 
    [chromium] â€º test/pdf-conversion.spec.ts:103:3 â€º PDF to Image Conversion â€º should convert PDF to image and display it 
    [chromium] â€º test/pdf-conversion.spec.ts:137:3 â€º PDF to Image Conversion â€º should enable rotation controls after PDF conversion 
    [chromium] â€º test/pdf-conversion.spec.ts:168:3 â€º PDF to Image Conversion â€º should handle PDF conversion errors gracefully 
    [chromium] â€º test/pdf-conversion.spec.ts:200:3 â€º PDF to Image Conversion â€º should clear error when removing PDF file 
    [chromium] â€º test/pdf-conversion.spec.ts:236:3 â€º PDF to Image Conversion â€º should handle PNG files without conversion 
    [chromium] â€º test/pdf-conversion.spec.ts:273:3 â€º PDF to Image Conversion â€º should complete full PDF workflow with rotation 
    [chromium] â€º test/pdf-conversion.spec.ts:310:3 â€º PDF to Image Conversion â€º should not extract data from PDF files 
    [chromium] â€º test/pdf-conversion.spec.ts:358:3 â€º Multiple File Handling â€º should handle mixed PDF and image uploads 
    [chromium] â€º test/pdf-simple.spec.ts:10:3 â€º Simple PDF Conversion Test â€º should display the upload area 
    [chromium] â€º test/pdf-simple.spec.ts:30:3 â€º Simple PDF Conversion Test â€º should upload and convert a PDF 
  8 passed (2.5m)

[36m  Serving HTML report at http://localhost:9323. Press Ctrl+C to quit.[39m
